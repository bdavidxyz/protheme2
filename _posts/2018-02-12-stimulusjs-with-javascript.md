---
layout: post
author: David Boureau
minread: 7
title:  "StimulusJS with plain old JavaScript"
date:   2018-02-11
categories: work
permalink: /blog/:title/
description: "StimulusJS with plain old Javascript"
---


## StimulusJS

StimulusJS is a new Javascript framework from Basecamp. It's a framework for *already rendered DOM*. 

I plan to write an article about the tool, as if [some people already did](https://github.com/stimulusjs/stimulus/blob/master/handbook/00_the_origin_of_stimulus.md).



## Make it work with plain old Javascript

StimulusJS is to be used with advanced ES6 class features.

This is why it doesn't work yet without a proper build system, the documentation [needs to be updated on that point](https://github.com/stimulusjs/stimulus/issues/99). 

You need either Webpack, or Babel with a special configuration, or Coffeescript (which also transpile into ES3).

**To be able to be used in any web project**, StimulusJS needs the ability to let the developper use it in plain old Javascript.

## The hack

[All class-related libraries](http://microjs.com/#class) for Javascript are very nice, but are neither compatible with each other, nor with ES6.

Fortunately, [Classtrophobic](https://github.com/WebReflection/classtrophobic-es5) does the job. 
It allow the developer to declare classes in plain old Javascript, that are compatible with the one generated by Babel.


## Example


[Github repository](https://github.com/bdavidxyz/stimulus-with-javascript)

[Demo](https://bdavidxyz.github.io/stimulus-with-javascript/)

Just insert [Classtrophobic](https://github.com/WebReflection/classtrophobic-es5) amongst the scripts, and the [code example](https://stimulusjs.org/handbook/hello-stimulus) of StimulusJS works with very little adaptation:

```html
<html>

<head>
  <title>Stimulus Sandbox</title>
  <script src="./classtrophobic-es5.js"></script>
  <script src="./stimulus.js"></script>
</head>

<body>
  
  <div data-controller="hello">
    <input type="text" data-target="hello.name">
    <button data-action="click->hello#greet">
      Greet in the console
    </button>
  </div>

<script type="text/javascript">

    var application = Stimulus.Application.start();
    
    var Hello = Class({
      extends: Stimulus.Controller,
      static: {
        targets : [ "name" ]
      },
      greet: function() {
        var element = this.nameTarget;
        var name = element.value;
        console.log("Hello : " + name);
      }
    });
    
    application.register("hello", Hello);
</script>
</body>

</html>
```

